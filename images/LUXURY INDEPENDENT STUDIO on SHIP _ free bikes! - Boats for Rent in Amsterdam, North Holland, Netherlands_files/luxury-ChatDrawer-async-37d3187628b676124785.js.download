!function(){var e=webpackJsonp([56,57],{"1OJ4":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"i",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"j",function(){return g}),n.d(t,"g",function(){return y});var r=n("Yi1R"),a=(n.n(r),n("suWS")),i=n("614h"),o=function(e){return e.valid_amenities},s=function(e){return e.amenities},c=(Object(r.createSelector)(o,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{label:e.name,description:e.tooltip,value:e.tag}},{})}),Object(r.createSelector)(function(e){return e},function(e){return e.reduce(function(e,t){var n=t.id,r=t.name,a=t.tag;return Object.assign({},e,babelHelpers.defineProperty({},n,{name:r,tag:a}))},{})})),l=Object(r.createSelector)(function(e){return e},function(e){return e.reduce(function(e,t){var n=t.type,r=t.quantity;return Object.assign({},e,babelHelpers.defineProperty({},n.toLowerCase(),r||0))},{})}),u=Object(r.createSelector)(function(e){return e},function(e){return e.reduce(function(e,t){var n=t.type;return Object.assign({},e,babelHelpers.defineProperty({},n.toLowerCase(),!0))},{})}),d=Object(r.createSelector)(function(e){return e},function(e){return e.reduce(function(e,t){return t.category?Object.assign({},e,babelHelpers.defineProperty({},t.category,[].concat(babelHelpers.toConsumableArray(e[t.category]||[]),[t]))):e},{})}),p=Object(r.createSelector)(o,function(e){return e.reduce(function(e,t){return Object.assign({},e,babelHelpers.defineProperty({},t.tag,t.category))},{})}),h=Object(r.createSelector)([p,s],function(e,t){return t.reduce(function(t,n){var r=e[n];return Object.assign({},t,babelHelpers.defineProperty({},r,Object.assign({},t[r]||{},babelHelpers.defineProperty({},n.toLowerCase(),!0))))},{})}),b=Object(r.createSelector)(function(e){return e},function(e){return Object.keys(e).reduce(function(t,n){return[].concat(babelHelpers.toConsumableArray(t),babelHelpers.toConsumableArray(Object.keys(e[n]).filter(function(t){return e[n][t]})))},{})}),f=Object(r.createSelector)(function(e,t){return t.threadID||t.match.params.threadID},function(e){return parseInt(e,10)}),m=Object(r.createSelector)(function(e){return e},function(e){return a.a.selectParticipants(e)}),g=Object(r.createSelector)(function(e){return e},f,function(e,t){return a.a.selectThread(e,t)}),y=Object(r.createSelector)(function(e){return e},function(e){return a.a.selectRequest(e,i.a)})},"1WGE":function(e,t,n){"use strict";var r=(n("L/Zs"),n("eLhK"),n("6M4W"));n.d(t,"a",function(){return r.a});var a=(n("lDIC"),n("3z6p"),n("jVSj"),n("VsI0"));n.d(t,"b",function(){return a.a});var i=n("BFPQ");n.d(t,"c",function(){return i.a});var o=n("M+pf");n.d(t,"d",function(){return o.a});var s=(n("8kJT"),n("30SQ"),n("AW/x"),n("5JlZ"));n.d(t,"e",function(){return s.a})},"2uoH":function(e,t,n){"use strict";function r(e){var t=e.airmoji,n=e.eventDescription,r=e.formattedTimestamp,a=e.large,o=e.styles;return i.a.createElement("div",Object(l.b)(o.container),i.a.createElement("div",Object(l.b)(o.icon,a&&o.icon_large),i.a.createElement(p.a,{inline:!0},i.a.createElement(d.a,{small:!0,bold:!0},i.a.createElement(u.b,{name:t})))),i.a.createElement("div",Object(l.b)(o.title),i.a.createElement(p.a,{left:a?2:1.5},i.a.createElement(d.a,{small:!0,inline:!0},n),i.a.createElement(p.a,{left:1,inline:!0},i.a.createElement(d.a,{micro:!0,light:!0,muted:!0,inline:!0},r)))))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("CJzf")),u=n("65e6"),d=n("uUpu"),p=n("xs8B"),h=Object(c.forbidExtraProps)(Object.assign({},l.h,{airmoji:u.a.isRequired,eventDescription:s.a.string.isRequired,formattedTimestamp:s.a.string.isRequired,large:s.a.bool})),b={large:!1};r.displayName="MessageEventDescription",r.propTypes=h,r.defaultProps=b,t.a=Object(l.f)(function(e){var t=e.unit;return{container:{display:"table"},icon:{display:"table-cell",verticalAlign:"top",width:4*t,textAlign:"right"},icon_large:{width:5*t},title:{display:"table-cell"}}})(r)},"30SQ":function(e,t,n){"use strict";var r=n("6owr");r.a},"3z6p":function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("BFPQ"),l=n("6M4W"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e){var t=e.to,n=e.exact,a=e.strict,o=e.location,s=e.activeClassName,p=e.className,h=e.activeStyle,b=e.style,f=e.isActive,m=e.ariaCurrent,g=r(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return i.a.createElement(c.a,{path:"object"===(void 0===t?"undefined":d(t))?t.pathname:t,exact:n,strict:a,location:o,children:function(e){var n=e.location,r=e.match,a=!!(f?f(r,n):r);return i.a.createElement(l.a,u({to:t,className:a?[p,s].filter(function(e){return e}).join(" "):p,style:a?u({},b,h):b,"aria-current":a&&m},g))}})};p.propTypes={to:l.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,ariaCurrent:s.a.oneOf(["page","step","location","true"])},p.defaultProps={activeClassName:"active",ariaCurrent:"true"}},"4S+p":function(e,t,n){"use strict";function r(e,t){e.preventDefault(),Object(x.a)(t)?Object(E.b)(t):window.location.href=t}function a(e,t){var n=e.image_url,a=e.title,i=e.primary_subtitle,o=e.secondary_subtitle,s=e.action,c=s&&s.type&&P[s.type]&&P[s.type](s)||"";return l.a.createElement(v.a,{top:1.5},l.a.createElement(m.a,{onPress:function(){function e(e){return r(e,c)}return e}(),imageUrl:n,primarySubtitle:i,secondarySubtitle:o,title:a,large:!t}))}function i(e,t){var n=e.image_url,a=e.title,i=e.body,o=e.primary_subtitle,s=e.secondary_subtitle,c=e.cta_text,u=e.action;return l.a.createElement(v.a,{top:1.5},l.a.createElement(f.a,{onPress:function(){function e(e){return r(e,u.url)}return e}(),imageUrl:n,title:a||i,primarySubtitle:o,secondarySubtitle:s,callToActionText:c,large:!t}))}function o(e,t,n){switch(e){case w.b.REFERENCE_CARD:return a(t,n);case w.b.ACTION_CARD:return i(t,n);case w.b.INLINE_ERROR:return l.a.createElement(b.a,null,t.body);case w.b.TEXT:return l.a.createElement(y.a,{light:!0,small:n},t.body);default:return l.a.createElement("div",null)}}function s(e){var t=e.type,n=e.content,r=e.sendStatus,a=e.retrySendItem,i=e.isFloatingBox;return l.a.createElement(g.a,{isSendStatusFailed:r===h.d.FAILED,retrySendItem:a},o(t,n,i))}var c=n("Jmof"),l=n.n(c),u=n("yu5W"),d=n.n(u),p=n("rGv+"),h=(n.n(p),n("YGBb")),b=n("+s0V"),f=n("imgV"),m=n("Yz7y"),g=n("gmTn"),y=n("uUpu"),v=n("xs8B"),E=n("2W/N"),x=n("9MPu"),w=n("SgVZ"),_=Object(p.forbidExtraProps)({type:d.a.string.isRequired,content:d.a.object.isRequired,isFloatingBox:d.a.bool,sendStatus:d.a.string.isRequired,retrySendItem:d.a.func.isRequired}),O={isFloatingBox:!1},P={listing:function(){function e(e){return"/rooms/"+String(e.id)}return e}(),luxury_listing:function(){function e(e){return"/luxury/listing/"+String(e.id)}return e}(),experience:function(){function e(e){return"/experiences/"+String(e.id)}return e}(),luxury_experience_tier_1:function(){function e(e){return"/luxury/experience/"+String(e.id)}return e}(),luxury_experience_tier_2:function(){function e(e){return"/luxury/experience/"+String(e.id)}return e}(),luxury_experience_tier_3:function(){function e(e){return"/luxury/experience/"+String(e.id)}return e}()};a.displayName="getReferenceCardRichObject",i.displayName="getActionCardRichObject",s.displayName="ItemType",s.propTypes=_,s.defaultProps=O,t.a=s},"5JlZ":function(e,t,n){"use strict";var r=n("FnL6");t.a=r.a},"614h":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s});var r="sendItem",a="fetchItemOlder",i="fetchThread",o="markThreadRead",s="setIsTyping"},"6M4W":function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("Jmof"),c=n.n(s),l=n("yu5W"),u=n.n(l),d=n("Arhm"),p=n.n(d),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=i(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!b(e)){e.preventDefault();var t=r.context.router.history,n=r.props,a=n.replace,i=n.to;a?t.replace(i):t.push(i)}},o=n,i(r,o)}return o(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,a=r(e,["replace","to","innerRef"]);p()(this.context.router,"You should not use <Link> outside a <Router>");var i=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return c.a.createElement("a",h({},a,{onClick:this.handleClick,href:i,ref:n}))},t}(c.a.Component);f.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired},t.a=f},"79p/":function(e,t,n){"use strict";function r(e){return i.a.createElement(o.a,s({svg:c},e))}t.a=r;var a=n("Jmof"),i=n.n(a),o=n("yRwn"),s=(n("7dZ5"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),c=function(){function e(e){return i.a.createElement("svg",e,i.a.createElement("path",{d:"m19.1 25.2 4.7 6.2 12.1-11.2"}))}return e}();c.displayName="CheckmarkSvg",c.defaultProps={viewBox:"0 0 52 52"},r.displayName="IconCheckmarkWithStroke"},"8kJT":function(e,t,n){"use strict";var r=n("1xE4");r.a},"8unM":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=e.disabled,n=e.styles;return u.a.createElement("svg",g({viewBox:"0 0 52 52"},Object(h.b)(n.icon,t&&n.icon_disabled)),u.a.createElement("path",{d:"M19.1 19.1 l14 14 m 0 -14 l -14 14"}))}var s=n("yu5W"),c=n.n(s),l=n("Jmof"),u=n.n(l),d=n("rGv+"),p=(n.n(d),n("+KR4")),h=n("CJzf"),b=n("mEK8"),f=n("e/xR"),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=Object(d.forbidExtraProps)(Object.assign({},h.h,{disabled:c.a.bool})),v={disabled:!1};o.displayName="IconTimes",o.propTypes=y,o.defaultProps=v;var E=function(e){var t=e.color;return{icon:{strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",stroke:t.core.hof},icon_disabled:{stroke:t.textDisabled}}},x=Object(h.f)(E)(o),w=Object(d.forbidExtraProps)(Object.assign({},h.h,{id:c.a.string.isRequired,labelId:f.a.isRequired,describedById:f.a,name:c.a.string.isRequired,checked:c.a.bool,disabled:c.a.bool,onChange:c.a.func,brand:p.e})),_={describedById:void 0,checked:!1,disabled:!1,onChange:function(){function e(){}return e}()},O=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n}return i(t,e),m(t,[{key:"handleMouseDown",value:function(){function e(){window.addEventListener("mouseup",this.handleMouseUp)}return e}()},{key:"handleMouseUp",value:function(){function e(){window.removeEventListener("mouseup",this.handleMouseUp)}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.id,n=e.labelId,r=e.describedById,a=e.checked,i=e.name,o=e.onChange,s=e.disabled,c=e.styles,l=e.theme,d=e.brand,f=d===p.c;return u.a.createElement("button",g({role:"checkbox","aria-checked":a,"aria-labelledby":n,"aria-describedby":r,onMouseDown:s?null:this.handleMouseDown,onClick:function(){function e(){return o(!a)}return e}(),type:"button",disabled:s},Object(h.b)(c.uncheckedBackground,f&&c.uncheckedBackground_selectBrand,s&&c.disabled)),u.a.createElement("input",{id:t,type:"hidden",name:i,value:a,disabled:s}),u.a.createElement("div",Object(h.b)(c.checkedBackground,f&&c.checkedBackground_selectBrand,a&&c.checkedBackground_checked,s&&c.checkedBackground_disabled)),u.a.createElement("div",Object(h.b)(c.slider,a&&c.slider_checked,a&&f&&c.slider_checkedSelectBrand,s&&c.slider_disabled),u.a.createElement("div",Object(h.b)(c.iconContainer),u.a.createElement("div",Object(h.b)(c.checkmarkCover,a&&c.checkmarkCover_on)),u.a.createElement(b.a,{color:s?l.color.textDisabled:l.color.hof,size:30,decorative:!0})),u.a.createElement("div",Object(h.b)(c.iconContainer,!a&&c.times_unchecked,a&&c.times_checked),u.a.createElement("div",Object(h.b)(c.timesScale,!a&&c.timesScale_on),u.a.createElement(x,{disabled:s})))))}return e}()}]),t}(u.a.Component);O.displayName="SwitchOnly",O.propTypes=w,O.defaultProps=_;t.a=Object(p.d)(Object(h.f)(function(e){var t=e.unit,n=e.color;return{disabled:{cursor:"default"},uncheckedBackground:{appearance:"none",height:4*t,width:6*t,backgroundColor:n.accent.bgGray,borderRadius:4*t,borderWidth:1,borderStyle:"solid",borderColor:n.accent.hrGray,margin:"auto",position:"relative",display:"inline-block",cursor:"pointer",":focus":{outline:"none",boxShadow:"0 0 2px 2px "+String(n.focus)}},uncheckedBackground_selectBrand:{":focus":{outline:"none",boxShadow:"0 0 2px 2px "+String(n.core.hackberry)}},checkedBackground:{position:"absolute",left:"-1px",top:"-1px",bottom:"-1px",right:"-1px",backgroundColor:n.core.babu,opacity:0,display:"inherit",borderRadius:4*t,borderWidth:1,borderStyle:"solid",borderColor:n.core.babu,transitionProperty:"opacity",transitionDuration:"250ms",transitionTimingFunction:"ease-in-out"},checkedBackground_selectBrand:{backgroundColor:n.core.hackberry,borderColor:n.core.hackberry},checkedBackground_checked:{opacity:1},checkedBackground_disabled:{backgroundColor:n.accent.bgGray,borderColor:n.textDisabled},slider:{width:4*t,height:4*t,backgroundColor:n.white,borderRadius:"50%",borderWidth:1,borderStyle:"solid",borderColor:n.accent.hrGray,color:n.accent.hrGray,display:"block",transitionProperty:"transform",transitionDuration:"250ms",transitionTimingFunction:"ease-in-out",overflow:"hidden",position:"absolute",top:-1,left:-1,transform:"translate3d(0, 0, 0)"},slider_checked:{transform:"translate3d("+2*t+"px, 0, 0)",borderColor:n.core.babu,color:n.core.babu},slider_checkedSelectBrand:{borderColor:n.core.hackberry,color:n.core.hackberry},slider_disabled:{borderColor:n.textDisabled,color:n.textDisabled},iconContainer:{position:"absolute",top:0,left:0,right:0,bottom:0},checkmarkCover:{position:"absolute",top:10,left:5,right:5,bottom:10,backgroundColor:n.white,transform:"scaleX(1)",transitionProperty:"transform",transitionDelay:0,transitionDuration:0,transformOrigin:"right center"},checkmarkCover_on:{transform:"scaleX(0)",transitionDuration:"250ms",transitionDelay:"125ms",transitionTimingFunction:"ease-in-out"},times_checked:{transform:"rotate(45deg)",transitionProperty:"transform",transitionDelay:"62.5ms",transitionDuration:0},times_unchecked:{transform:"rotate(0)",transitionProperty:"transform",transitionDelay:"62.5ms",transitionDuration:"187.5ms"},timesScale:{transform:"scale(0, 0)",transitionProperty:"transform",transitionDelay:0,transitionDuration:"62.5ms"},timesScale_on:{transform:"scale(1, 1)",transitionDelay:0,transitionDuration:"62.5ms"}}})(O))},"9/uS":function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("Shsy"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m6 6.5a.5.5 0 0 1 .5-.5h5a .5.5 0 1 1 0 1h-5a .5.5 0 0 1 -.5-.5zm0 4a .5.5 0 0 0 .5.5h11a .5.5 0 0 0 0-1h-11a .5.5 0 0 0 -.5.5zm11.5 3.5h-11a .5.5 0 1 0 0 1h11a .5.5 0 0 0 0-1zm0 4h-11a .5.5 0 1 0 0 1h11a .5.5 0 0 0 0-1zm4.5-11.5v15.01a2.49 2.49 0 0 1 -2.5 2.49h-15a2.5 2.5 0 0 1 -2.5-2.5v-19a2.5 2.5 0 0 1 2.5-2.5h11a .5.5 0 0 1 .35.15l3 3 3 3a .5.5 0 0 1 .15.35zm-6-4.79v3.8c0 .27.22.49.49.49h3.8l-2.15-2.15c-1.22-1.22-1.77-1.77-2.15-2.15zm5 5.29h-4.51c-.82 0-1.49-.67-1.49-1.49v-4.51h-10.5a1.5 1.5 0 0 0 -1.5 1.5v19c0 .83.67 1.5 1.5 1.5h15.01c.83 0 1.5-.67 1.5-1.49v-14.51z",fillRule:"evenodd"}))}return e}());o.displayName="DescriptionSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconDescription");t.a=s},"9LYp":function(e,t,n){"use strict";function r(e){return e.luxuryPdp.chatDrawer}function a(e){return{inquire:Object(v.bindActionCreators)(x.o,e),openChatDrawer:Object(v.bindActionCreators)(x.r,e),dismissChatDrawer:Object(v.bindActionCreators)(x.b,e),fetchMessageThreads:Object(v.bindActionCreators)(x.h,e)}}function i(e){var t=function(t){function n(e){babelHelpers.classCallCheck(this,n);var t=babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getMessageThreads=t.getMessageThreads.bind(t),t}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"componentDidMount",value:function(){function e(){this.getMessageThreads()}return e}()},{key:"componentDidUpdate",value:function(){function e(e){this.props.location.pathname!==e.location.pathname&&this.getMessageThreads()}return e}()},{key:"getMessageThreads",value:function(){function e(){var e=this.props,t=e.fetchMessageThreads,n=e.location,r=e.route;if(d.a.current().id){if(!r||!r.routes)return void t();t({tripScheduleId:Object(w.d)(r.routes,n.pathname).tripScheduleId})}}return e}()},{key:"render",value:function(){function t(){var t=g.a.apply(void 0,[this.props].concat(C));return s.a.createElement(e,t)}return t}()}]),n}(o.Component);t.WrappedComponent=e,t.propTypes=P;var n=f()(e)||"Component";t.displayName="withChatDrawer("+String(n)+")";var i=Object(y.connect)(r,a)(Object(E.e)(t));return i.displayName=t.displayName,h()(i,e)}n.d(t,"b",function(){return P}),t.a=i;var o=n("Jmof"),s=n.n(o),c=n("yu5W"),l=n.n(c),u=n("oIG2"),d=n.n(u),p=n("edfd"),h=n.n(p),b=n("9SHh"),f=n.n(b),m=n("4ws3"),g=n.n(m),y=n("6Put"),v=(n.n(y),n("Zn73")),E=(n.n(v),n("1WGE")),x=n("xxPn"),w=n("otOB"),_=n("9H77"),O=n("V5Ni"),P={inquiryPending:l.a.bool,inquiryError:l.a.object,messageThreadId:l.a.number,hasInquired:l.a.bool,hasInquiredListingId:l.a.number,chatDrawerOpen:l.a.bool,inquire:l.a.func,openChatDrawer:l.a.func,dismissChatDrawer:l.a.func,fetchMessageThreads:l.a.func,shouldRedirectToInbox:l.a.bool,location:_.a,route:O.a},C=["location","match","history","staticContext"]},"9MPu":function(e,t,n){"use strict";function r(e){return!!a.some(function(t){return t.test(e)})}t.a=r;var a=[/^\/$/,/^\/s\/./,/^\/luxury\/(?:listing|experience|messages)\/./,/^\/itinerary(?:$|\/)/]},"9gU3":function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m7.61 10.67 2.74 2.74 2.74 2.74.78.78a2.2 2.2 0 0 0 2.9.2l3.53 3.53-.76.76a.7.7 0 0 1 -.14.08c-.17.08-.37.13-.62.13-.4 0-2.27-.61-4.03-1.41-2.48-1.13-4.69-2.53-6.29-4.13l-.78-.78c-1.6-1.6-3.01-3.82-4.13-6.29-.8-1.76-1.41-3.63-1.41-4.03a1.35 1.35 0 0 1 .13-.62.77.77 0 0 1 .08-.14l.76-.76 3.55 3.55c-.61.94-.58 2.11.18 2.87l.78.78zm11.66 5.12 2.37 2.37a.8.8 0 0 1 0 1.13l-.57.56-3.51-3.51.56-.56a.8.8 0 0 1 1.13 0zm-13.68-13.68 2.37 2.37c.32.32.32.82 0 1.13l-.56.56-3.51-3.51.56-.56a.8.8 0 0 1 1.13 0zm2.2 5.26.96-.96a1.92 1.92 0 0 0 0-2.72l-2.37-2.37a1.92 1.92 0 0 0 -2.72 0l-.56.57-.4.4-1.15 1.16a1.66 1.66 0 0 0 -.3.43 2.47 2.47 0 0 0 -.25 1.13c.02 1.87 2.83 8.06 5.88 11.1l.78.78c3.05 3.04 9.24 5.86 11.1 5.87a2.48 2.48 0 0 0 1.13-.25c.2-.1.34-.21.43-.3l.76-.76.4-.4.4-.4.56-.56a1.92 1.92 0 0 0 0-2.72l-2.37-2.37a1.92 1.92 0 0 0 -2.72 0l-.57.56-.4.4-.19.19a1.09 1.09 0 0 1 -1.54-.02l-.78-.78-2.74-2.74-2.74-2.74-.78-.78c-.42-.42-.38-1.16.16-1.72l.01-.01z",fillRule:"evenodd"}))}return e}());o.displayName="CallSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconCall");t.a=s},"AW/x":function(e,t,n){"use strict";var r=n("4xPz");r.a},BFPQ:function(e,t,n){"use strict";var r=n("7sU6");t.a=r.a},BN4y:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"M11.5,23 C5.14871429,23 0,17.8512857 0,11.5 C0,5.14871429 5.14871429,0 11.5,0 C17.8512857,0 23,5.14871429 23,11.5 C23,17.8512857 17.8512857,23 11.5,23 Z M14.854,10.146 L11.854,7.146 C11.6596478,6.95224519 11.3454499,6.95135258 11.15,7.144 L11.146,7.146 L8.146,10.146 C8.01952797,10.272472 7.97013502,10.456809 8.01642699,10.629573 C8.06271896,10.802337 8.197663,10.937281 8.370427,10.983573 C8.543191,11.029865 8.72752798,10.980472 8.854,10.854 L11,8.707 L11,15.5 C11,15.7761424 11.2238576,16 11.5,16 C11.7761424,16 12,15.7761424 12,15.5 L12,8.707 L14.146,10.854 C14.272472,10.980472 14.456809,11.029865 14.629573,10.983573 C14.802337,10.937281 14.937281,10.802337 14.983573,10.629573 C15.029865,10.456809 14.980472,10.272472 14.854,10.146 Z"}))}return e}());o.displayName="ArrowUpAltFilledSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconArrowUpAltFilled");t.a=s},DMPL:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("yu5W"),o=n.n(i),s=n("CJzf"),c=n("YGBb"),l=n("xs8B"),u=n("MYSt"),d=n("eo2R"),p=n("UaeO"),h=n("2uoH"),b=n("xIxZ"),f=n("614h"),m=n("xsYX"),g=n("4S+p"),y=n("kLzm"),v=n("SgVZ"),E=n("VSK8"),x=Object.assign({},s.h,{chatDrawerOpen:o.a.bool,fetchItems:o.a.func.isRequired,participants:o.a.object,isFloatingBox:o.a.bool,sendItem:o.a.func.isRequired,setIsTyping:o.a.func.isRequired,retrySendItem:o.a.func.isRequired,threadID:o.a.number.isRequired,thread:o.a.object,paginationRequest:o.a.object}),w={participants:{},thread:{},chatDrawerOpen:!1,paginationRequest:{},sendItemRequest:{},isFloatingBox:!1},_=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1,showPhoneCallPanel:!1},n.onContainerScroll=n.onContainerScroll.bind(n),n.onHeightChange=n.onHeightChange.bind(n),n.setContainerRef=n.setContainerRef.bind(n),n.scrollToBottom=n.scrollToBottom.bind(n),n.shouldContainerScroll=n.shouldContainerScroll.bind(n),n.onPhoneCallPanelToggle=n.onPhoneCallPanelToggle.bind(n),n.shouldContainerScrollToBottom=n.shouldContainerScrollToBottom.bind(n),n.scrollBottomDistance=0,n.inputBoxHeight=50,n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidUpdate",value:function(){function e(e){var t=e.thread,n=e.chatDrawerOpen;this.shouldContainerScrollToBottom(t,n)?this.scrollToBottom(0):this.shouldContainerScroll(t)&&this.scrollToBottom(this.scrollBottomDistance)}return e}()},{key:"onContainerScroll",value:function(){function e(){var e=this.props,t=e.fetchItems,n=e.threadID,r=e.thread,a=r.olderItemsAvailable;this.scrollBottomDistance=this.container.scrollHeight-this.container.scrollTop,0===this.container.scrollTop&&a&&t(n,{direction:c.b.OLDER},f.a)}return e}()},{key:"onHeightChange",value:function(){function e(e){var t=e-this.inputBoxHeight;t>0&&(this.scrollBottomDistance=this.container.scrollHeight-this.container.scrollTop,this.scrollToBottom(this.scrollBottomDistance-t)),this.inputBoxHeight=e}return e}()},{key:"onPhoneCallPanelToggle",value:function(){function e(){this.setState({showPhoneCallPanel:!this.state.showPhoneCallPanel})}return e}()},{key:"setContainerRef",value:function(){function e(e){this.container=e}return e}()},{key:"shouldContainerScrollToBottom",value:function(){function e(e,t){var n=this.props,r=n.thread,a=r.id,i=r.items,o=n.chatDrawerOpen;return!(t||!o)||(a!==e.id||!(e.items||!i))}return e}()},{key:"shouldContainerScroll",value:function(){function e(e){var t=this.props.thread.items,n=e.items;return!(!t||!n||t.length===n.length)}return e}()},{key:"scrollToBottom",value:function(){function e(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){e.container.scrollTop=e.container.scrollHeight-t},0)}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.thread,n=t.items,r=t.data,i=e.participants,o=e.threadID,c=e.isFloatingBox,f=e.sendItem,E=e.setIsTyping,x=e.paginationRequest,w=e.retrySendItem,_=e.styles,O=this.state.showPhoneCallPanel,P=r&&r.typingParticipants&&Object.keys(r.typingParticipants).map(function(e){return i[e].data&&i[e].data.firstName}),C=x.inProgress;return a.a.createElement("div",Object(s.b)(_.container,!c&&_.nonFloatingBg),a.a.createElement("div",Object(s.b)(_.offsetContainer),a.a.createElement("div",Object(s.b)(_.itemsOuterContainer),a.a.createElement("div",babelHelpers.extends({},Object(s.b)(_.itemsScrollableContainer),{ref:this.setContainerRef,onScroll:this.onContainerScroll}),C&&a.a.createElement("div",Object(s.b)(_.loader),a.a.createElement(u.a,null)),n&&n[0]&&a.a.createElement(l.a,{top:1.5},a.a.createElement(p.a,{body:n[0].data.formattedDate})),n&&n.map(function(e,t){var r=e.data,o=r.content,u=r.formattedTimestamp,b=r.formattedDate,f=e.id,m=e.senderID,E=e.sendStatus,x=e.type;if(!u&&!b)return null;var O=i[m],P=Object(y.b)(n[t-1],n[t]),C=void 0,j=a.a.createElement(g.a,{type:x,content:o,retrySendItem:function(){function t(){return w(e)}return t}(),sendStatus:E,isFloatingBox:c});return C=x===v.b.EVENT_DESCRIPTION?a.a.createElement(l.a,{top:3},a.a.createElement(h.a,{airmoji:o.airmoji,eventDescription:o.body,formattedTimestamp:u,large:!c})):P?P?a.a.createElement("div",Object(s.b)(_.itemContainer,_.plainItem,c&&_.plainItem_floating),j):a.a.createElement("div",null):a.a.createElement("div",Object(s.b)(_.itemContainer),a.a.createElement(l.a,{top:3},a.a.createElement(d.a,{imageUrl:O&&O.data?O.data.pictureUrl:v.c,title:O&&O.data?O.data.firstName:"",formattedTimestamp:u,large:!c},j))),a.a.createElement("div",{key:f},Object(y.a)(n[t-1],n[t])&&b&&a.a.createElement(p.a,{body:b,withDivider:!0}),C)})),a.a.createElement("div",Object(s.b)(_.overlay,O&&_.overlay_show))),a.a.createElement("div",Object(s.b)(_.typingIndicator),P&&P.length>0&&a.a.createElement(l.a,{left:3,bottom:1},a.a.createElement(b.a,{participantNames:P}))),a.a.createElement("div",Object(s.b)(_.inputBox),a.a.createElement(m.a,{isFloatingBox:c,threadID:o,sendItem:f,setIsTyping:E,onHeightChange:this.onHeightChange,onPhoneCallPanelToggle:this.onPhoneCallPanelToggle,agents:Object.values(i),showPhoneCallPanel:O}))))}return e}()}]),t}(a.a.PureComponent);_.displayName="MessageThread",_.propTypes=x,_.defaultProps=w,t.a=Object(s.f)(function(e){var t=e.responsive;return{container:{width:"100%",height:"100%",overflow:"hidden"},overlay:{position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(0,0,0,0.25)",opacity:0,visibility:"hidden",animationtransitionProperty:"visibilitiy, opacity",transitionDuration:String(E.a.base.animationDurationMs)+"ms"},overlay_show:{opacity:1,visibility:"visible"},offsetContainer:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},loader:{position:"relative",height:16,marginTop:48},inputBox:{display:"table-row",height:"auto",width:"100%",zIndex:1},itemsOuterContainer:{display:"table-row",height:"100%",width:"100%"},nonFloatingBg:babelHelpers.defineProperty({},t.mediumAndAbove,{backgroundColor:E.b.gilmore}),itemsScrollableContainer:babelHelpers.defineProperty({height:"100%",overflowY:"auto",overflowX:"hidden","-webkit-overflow-scrolling":"touch",paddingLeft:24,paddingRight:24,paddingBottom:24},t.small,{paddingTop:24}),itemContainer:{maxWidth:600},plainItem:{paddingTop:12,paddingLeft:56},plainItem_floating:{paddingLeft:44},typingIndicator:{height:24,width:"100%"}}})(_)},G1CF:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m21.5 3h-4.5v-1.5c0-.83-.67-1.5-1.49-1.5h-8.01c-.82 0-1.5.67-1.5 1.5v1.5h-4.5a.5.5 0 1 0 0 1h1.5v18.51c0 .82.68 1.49 1.5 1.49h14c .83 0 1.5-.67 1.5-1.49v-18.51h1.5a.5.5 0 0 0 0-1zm-14.5-1.5c0-.27.23-.5.5-.5h8.01c.28 0 .5.22.5.5v1.5h-9.01zm12 21.01a.49.49 0 0 1 -.5.49h-14a .5.5 0 0 1 -.5-.49v-18.51h15zm-11-16.01v14a .5.5 0 0 1 -1 0v-14a .5.5 0 1 1 1 0zm4 0v14a .5.5 0 0 1 -1 0v-14a .5.5 0 1 1 1 0zm4 0v14a .5.5 0 0 1 -1 0v-14a .5.5 0 1 1 1 0z",fillRule:"evenodd"}))}return e}());o.displayName="TrashSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconTrash");t.a=s},JkDH:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("yu5W"),o=n.n(i),s=n("CJzf"),c=n("YrBH"),l=n("DMPL"),u=n("z9sH"),d=Object.assign({},s.h,{chatDrawerOpen:o.a.bool,participants:o.a.object,sendItem:o.a.func.isRequired,retrySendItem:o.a.func.isRequired,addParticipant:o.a.func.isRequired,fetchItems:o.a.func.isRequired,setIsTyping:o.a.func.isRequired,threadID:o.a.number.isRequired,thread:o.a.object,onBackPress:o.a.func.isRequired,paginationRequest:o.a.object}),p={participants:{},thread:{},chatDrawerOpen:!1,paginationRequest:{}},h=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSidebar:!1},n.onShowSidebarPress=n.onShowSidebarPress.bind(n),n.onMessageThreadDetailsBackPress=n.onMessageThreadDetailsBackPress.bind(n),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onShowSidebarPress",value:function(){function e(){this.setState({showSidebar:!0})}return e}()},{key:"onMessageThreadDetailsBackPress",value:function(){function e(){this.state.showSidebar&&this.setState({showSidebar:!1})}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.styles,n=e.threadID,r=e.thread,i=e.sendItem,o=e.fetchItems,d=e.setIsTyping,p=e.retrySendItem,h=e.participants,b=e.chatDrawerOpen,f=e.onBackPress,m=e.paginationRequest,g=this.state.showSidebar,y=Object.values(h),v=function(){function e(){}return e}();return a.a.createElement("div",Object(s.b)(t.splitScreenContainer),a.a.createElement("div",Object(s.b)(t.mobileNav),a.a.createElement(u.a,{onCloseMessagePress:f,
onMessageThreadDetailsBackPress:this.onMessageThreadDetailsBackPress,onShowSidebarPress:this.onShowSidebarPress,thread:r,participants:h,showSidebar:g,isFloatingBox:!0,showCloseButton:!0})),a.a.createElement("div",Object(s.b)(t.floatingBoxShadow)),a.a.createElement("div",Object(s.b)(t.sidebar,g&&t.showSidebar),a.a.createElement(c.a,{showBackButton:!1,onBackPress:this.onMessageThreadDetailsBackPress,participants:y,onAddParticipantPress:v,onArchivePress:v,onVisitHelpCenterPress:v,onReportPress:v,onDoNotDisturbChange:v})),a.a.createElement("div",Object(s.b)(t.thread),a.a.createElement(l.a,{chatDrawerOpen:b,retrySendItem:p,fetchItems:o,threadID:n,thread:r,isFloatingBox:!0,sendItem:i,setIsTyping:d,participants:h,paginationRequest:m})))}return e}()}]),t}(a.a.Component);h.propTypes=d,h.defaultProps=p,t.a=Object(s.f)(function(e){var t=e.color;return{splitScreenContainer:{height:"100%",position:"relative"},thread:{position:"absolute",width:"100%",top:64,bottom:0,right:0},sidebar:{display:"none",position:"absolute",top:64,bottom:74,left:0,width:"100%",overflow:"auto",backgroundColor:t.white,zIndex:1},showSidebar:{display:"block"},mobileNav:{width:"100%",top:0,left:0,textAlign:"center",padding:16,backgroundColor:t.white,zIndex:2},floatingBoxShadow:{width:"100%",height:12,backgroundImage:"linear-gradient(to bottom, #F4F4F4, #FFFFFF)"}}})(h)},KKYv:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;null===d.parentNode&&document.body.appendChild(d);var o=a(e,t,n);if(null===o)return null;var s=o.paddingSize,c=o.borderSize,l=o.boxSizing,u=o.sizingStyle;Object.keys(u).forEach(function(e){d.style[e]=u[e]}),Object.keys(p).forEach(function(e){d.style.setProperty(e,p[e],"important")}),d.value=e.value||e.placeholder||"x";var h=-1/0,b=1/0,f=d.scrollHeight;"border-box"===l?f+=c:"content-box"===l&&(f-=s),d.value="x";var m=d.scrollHeight-s;return null===r&&null===i||(null!==r&&(h=m*r,"border-box"===l&&(h=h+s+c),f=Math.max(h,f)),null!==i&&(b=m*i,"border-box"===l&&(b=b+s+c),f=Math.min(b,f))),{height:f,minHeight:h,maxHeight:b,rowCount:Math.floor(f/m)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&b[t])return b[t];var r=window.getComputedStyle(e);if(null===r)return null;var a=h.reduce(function(e,t){return e[t]=r.getPropertyValue(t),e},{}),i=a["box-sizing"];u&&"border-box"===i&&(a.width=parseFloat(a.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var o=parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),s=parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),c={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return n&&(b[t]=c),c}var i=n("Jmof"),o=n.n(i),s=n("yu5W"),c=n.n(s),l="undefined"!=typeof window&&"undefined"!=typeof document,u=!!l&&!!document.documentElement.currentStyle,d=l&&document.createElement("textarea"),p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},h=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],b={},f=function(e){return delete b[e]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}}(),g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},w=function(){},_=l&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],O=_[0],P=_[1],C=function(e){function t(n){g(this,t);var a=x(this,e.call(this,n));return a._resizeLock=!1,a._onRootDOMNode=function(e){a._rootDOMNode=e,a.props.inputRef&&a.props.inputRef(e)},a._onChange=function(e){a._controlled||a._resizeComponent(),a.props.onChange(e)},a._resizeComponent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;if(void 0===a._rootDOMNode)return void e();var t=r(a._rootDOMNode,a._uid,a.props.useCacheForDOMMeasurements,a.props.minRows,a.props.maxRows);if(null===t)return void e();var n=t.height,i=t.minHeight,o=t.maxHeight,s=t.rowCount;if(a.rowCount=s,a.state.height!==n||a.state.minHeight!==i||a.state.maxHeight!==o)return void a.setState({height:n,minHeight:i,maxHeight:o},e);e()},a.state={height:n.style&&n.style.height||0,minHeight:-1/0,maxHeight:1/0},a._uid=m(),a._controlled="string"==typeof n.value,a}return v(t,e),t.prototype.render=function(){var e=this.props,t=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,E(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return t.style=y({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),o.a.createElement("textarea",y({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},t.prototype.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},t.prototype.componentWillReceiveProps=function(){var e=this;this._clearNextFrame(),this._onNextFrameActionId=O(function(){return e._resizeComponent()})},t.prototype.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},t.prototype.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),f(this._uid)},t.prototype._clearNextFrame=function(){P(this._onNextFrameActionId)},t}(o.a.Component);C.propTypes={value:c.a.string,onChange:c.a.func,onHeightChange:c.a.func,useCacheForDOMMeasurements:c.a.bool,minRows:c.a.number,maxRows:c.a.number,inputRef:c.a.func},C.defaultProps={onChange:w,onHeightChange:w,useCacheForDOMMeasurements:!1},t.a=C},"L/Zs":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("dVnD"),s=n.n(o),c=n("Jmof"),l=n.n(c),u=n("yu5W"),d=n.n(u),p=n("vfA5"),h=n.n(p),b=n("M+pf"),f=function(e){function t(){var n,i,o;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=a(this,e.call.apply(e,[this].concat(c))),i.history=h()(i.props),o=n,a(i,o)}return i(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return l.a.createElement(b.a,{history:this.history,children:this.props.children})},t}(l.a.Component);f.propTypes={basename:d.a.string,forceRefresh:d.a.bool,getUserConfirmation:d.a.func,keyLength:d.a.number,children:d.a.node}},"M+pf":function(e,t,n){"use strict";var r=n("RMLt");t.a=r.a},MGQ7:function(e,t,n){"use strict";function r(e){var t=e.onPanelHide,n=e.showPhoneCallPanel,r=e.agents,a=e.styles;return i.a.createElement("div",Object(l.b)(a.container,n&&a.container_show),i.a.createElement("div",Object(l.b)(a.padding),i.a.createElement(u.a,{before:i.a.createElement(d.a,{level:3},i.a.createElement(g.a,{k:"luxury.call_an_agent"})),after:i.a.createElement(p.a,{icon:i.a.createElement(h.a,{size:16,accessibilityLabel:f.a.t("luxury.call")}),onPress:t})}),i.a.createElement(v.a,{agents:r})))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("CJzf")),u=n("DHhB"),d=n("oFRz"),p=n("gm2C"),h=n("LaTn"),b=n("M/w6"),f=n.n(b),m=n("kUb7"),g=n.n(m),y=n("VSK8"),v=n("f91D"),E=Object(c.forbidExtraProps)(Object.assign({},l.h,{onPanelHide:s.a.func.isRequired,showPhoneCallPanel:s.a.bool,agents:s.a.array})),x={agents:[],showPhoneCallPanel:!1};r.displayName="PhoneCallPanel",r.propTypes=E,r.defaultProps=x,t.a=Object(l.f)(function(){return{container:{maxHeight:0,overflow:"hidden",opacity:0,transitionProperty:"opacity, max-height",transitionDuration:String(y.a.base.animationDurationMs)+"ms"},container_show:{maxHeight:500,opacity:1},padding:{padding:"12px"}}})(r)},"R+1g":function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m18.5 10a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0-4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm4-4h-21c-.83 0-1.5.67-1.5 1.5v17.01c0 .82.68 1.49 1.5 1.49h20.99c.84 0 1.5-.67 1.5-1.5v-17c .01-.83-.66-1.5-1.49-1.5zm-21.5 1.5c0-.28.22-.5.5-.5h20.99c.28 0 .5.23.5.5v13.8l-5.15-5.15a.5.5 0 0 0 -.65-.05l-3.65 2.74-4.69-4.69a.5.5 0 0 0 -.71 0l-7.14 7.14zm22 17.01a.49.49 0 0 1 -.5.5h-21a .5.5 0 0 1 -.5-.5v-1.8l7.5-7.5 4.65 4.65a.5.5 0 0 0 .65.05l3.65-2.74 5.55 5.54z",fillRule:"evenodd"}))}return e}());o.displayName="PictureSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconPicture");t.a=s},SgVZ:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p});var r=n("M/w6"),a=n.n(r),i="https://airbnb-photos-development.s3.amazonaws.com/defaults/user_pic-225x225.png?v=3",o=13,s=3e5,c={EVENT_DESCRIPTION:"event_description",TEXT:"text",INLINE_ERROR:"inline_error",REFERENCE_CARD:"reference_card",ACTION_CARD:"action_card"},l={LISTING:"listing",EXPERIENCE:"experience"},u=function(){return{arrival:a.a.t("luxury.amenity.category.arrival"),essentials:a.a.t("luxury.amenity.category.essentials"),explore:a.a.t("luxury.amenity.category.explore"),outdoors:a.a.t("luxury.amenity.category.outdoors"),special_features:a.a.t("luxury.amenity.category.special_features"),tech:a.a.t("luxury.amenity.category.tech"),wellness:a.a.t("luxury.amenity.category.wellness"),misc:a.a.t("luxury.amenity.category.misc")}},d=["arrival","essentials","tech","outdoors","explore","wellness","special_features","misc"],p=6},TQZj:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.id,n=e.name,a=e.checked,i=e.disabled,o=e.onChange,s=e.label,l=e.children,u=e.subtitle,d=e.lightTitle,y=e.small,v=r(e,["id","name","checked","disabled","onChange","label","children","subtitle","lightTitle","small"]),E=String(t)+"--label",x=u&&String(t)+"--subtitle";return c.a.createElement(p.a,v,c.a.createElement(g.a,{after:c.a.createElement(m.a,{id:t,labelId:E,describedById:x,checked:a,disabled:i,onChange:o,name:n})},c.a.createElement(f.a,{right:1},c.a.createElement(b.a,{id:E,htmlFor:t},c.a.createElement(h.a,{inline:!0,light:d,disabled:i,small:y},s),!!u&&c.a.createElement("div",{id:x},c.a.createElement(h.a,{small:!0,light:!0,disabled:i},u))))),l)}t.a=a;var i=n("yu5W"),o=n.n(i),s=n("Jmof"),c=n.n(s),l=n("rGv+"),u=(n.n(l),n("UOTV")),d=n("WMN1"),p=n("NsNZ"),h=n("uUpu"),b=n("4+iz"),f=n("xs8B"),m=n("8unM"),g=n("8J9N"),y=n("OYnr"),v=Object(l.forbidExtraProps)(Object.assign({},p.c,{id:o.a.string.isRequired,name:o.a.string.isRequired,subtitle:y.a,label:y.a.isRequired,children:o.a.node,checked:o.a.bool,disabled:o.a.bool,lightTitle:o.a.bool,small:o.a.bool,onChange:o.a.func})),E=Object.assign({},p.b,{baseline:d.a.FULL,checked:!1,disabled:!1,lightTitle:!1,small:!1,onChange:function(){function e(){}return e}(),subtitle:void 0,vertical:u.b.SMALL});a.displayName="SwitchRow",a.propTypes=v,a.defaultProps=E},UaeO:function(e,t,n){"use strict";function r(e){var t=e.body,n=e.withDivider,r=e.styles;return i.a.createElement("div",null,n&&i.a.createElement(u.a,{vertical:1},i.a.createElement("hr",Object(l.b)(r.topline))),i.a.createElement(d.a,{micro:!0,bold:!0,inline:!0},t))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("CJzf")),u=n("xs8B"),d=n("uUpu"),p=Object(c.forbidExtraProps)(Object.assign({},l.h,{body:s.a.string.isRequired,withDivider:s.a.bool})),h={withDivider:!1};r.displayName="MessageDivider",r.propTypes=p,r.defaultProps=h,t.a=Object(l.f)(function(e){var t=e.color;return{topline:{border:0,borderTop:"1px solid "+String(t.divider)}}})(r)},Vb0a:function(e,t,n){"use strict";function r(e){var t=e.dismissChatDrawer,n=e.chatDrawerOpen,r=e.messageThreadId,a=e.styles;return i.a.createElement("div",Object(s.b)(a.drawer,n&&a.drawer_visible),r&&i.a.createElement(d.default,{threadID:r,onBackPress:t,chatDrawerOpen:n,isFloatingBox:!0}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Jmof"),i=n.n(a),o=n("rGv+"),s=(n.n(o),n("CJzf")),c=n("VSK8"),l=n("b463"),u=n("9LYp"),d=n("tzwi"),p=c.a.quick,h=Object(o.forbidExtraProps)(Object.assign({},s.h,u.b));r.displayName="ChatDrawer",r.propTypes=h,t.default=Object(s.f)(function(e){var t=e.color,n=e.responsive;return{drawer:babelHelpers.defineProperty({backgroundColor:t.white,borderRadius:4,border:"solid 1px rgba(0, 0, 0, 0.1)",boxShadow:"0 5px 20px 0 rgba(0, 0, 0, 0.1)",position:"fixed",bottom:0,right:0,top:64,left:0,zIndex:c.d.sidePanel,transitionProperty:"transform opacity",transitionDuration:String(p.animationDurationMs)+"ms",transitionTimingFunction:p.timingFunction,transform:"translateY(30px)",opacity:0,visibility:"hidden",overflowY:"hidden"},n.largeAndAbove,{bottom:l.a.BOTTOM_LG,right:l.a.RIGHT_LG,top:"auto",left:"auto",width:l.a.WIDTH,height:l.a.HEIGHT}),drawer_visible:{visibility:"visible",opacity:1,transform:"translateY(0px)"}}})(Object(u.a)(r))},VsI0:function(e,t,n){"use strict";var r=n("cqUS");t.a=r.a},"WGs/":function(e,t,n){"use strict";function r(e){var t=e.cols,n=e.disabled,r=e.showPhoneCallPanel,a=e.hideSendButton,o=e.id,s=e.label,c=e.name,u=e.onBlur,x=e.onChange,w=e.onFocus,_=e.onHeightChange,O=e.onKeyDown,P=e.onPhoneCallIconPress,C=e.onPictureIconPress,j=e.onSend,k=e.placeholder,S=e.styles,T=e.value;return i.a.createElement("div",Object(p.b)(S.inputContainer),i.a.createElement("div",Object(p.b)(S.iconGroups),i.a.createElement("div",Object(p.b)(S.iconRow),i.a.createElement("div",Object(p.b)(S.tablecell),i.a.createElement(v.a,{breakpoint:"mediumAndAbove"},i.a.createElement("button",babelHelpers.extends({},Object(p.b)(S.sendButton,a&&S.hide),{onClick:j,onTouchStart:j,"aria-label":d.a.t("shared.send"),type:"button"}),i.a.createElement(f.a,{color:E.b.babu,size:24,decorative:!0})))),i.a.createElement("div",Object(p.b)(S.buttonWrapper),i.a.createElement(y.a,{left:1.5},i.a.createElement(b.a,{icon:i.a.createElement(m.a,{size:20,color:r?E.b.edelman:null,accessibilityLabel:d.a.t("luxury.call")}),onPress:P}))),i.a.createElement("div",Object(p.b)(S.buttonWrapper),i.a.createElement(y.a,{left:2},i.a.createElement(b.a,{icon:i.a.createElement(g.a,{size:20,accessibilityLabel:d.a.t("luxury.upload_image")}),onPress:C}))))),i.a.createElement("div",Object(p.b)(S.textAreaContainer),i.a.createElement(h.a,{id:o,label:s,labelDescription:s,hideLabel:!0},i.a.createElement(l.a,babelHelpers.extends({},Object(p.b)(S.textArea),{cols:t,disabled:n,id:o,maxRows:4,name:c,label:s,minRows:1,onBlur:u,onChange:x,onFocus:w,onHeightChange:_,onKeyDown:O,placeholder:k,value:T})))))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("KKYv")),u=n("M/w6"),d=n.n(u),p=n("CJzf"),h=n("9Qs9"),b=n("gm2C"),f=n("BN4y"),m=n("9gU3"),g=n("R+1g"),y=n("xs8B"),v=n("/2kC"),E=n("VSK8"),x=Object(c.forbidExtraProps)(Object.assign({},p.h,h.c,{cols:s.a.number,disabled:s.a.bool,hideSendButton:s.a.bool,showPhoneCallPanel:s.a.bool,id:s.a.string.isRequired,label:s.a.string.isRequired,name:s.a.string.isRequired,onBlur:s.a.func,onChange:s.a.func,onFocus:s.a.func,onHeightChange:s.a.func,onKeyDown:s.a.func,onPhoneCallIconPress:s.a.func,onPictureIconPress:s.a.func,onSend:s.a.func,placeholder:s.a.string,styles:s.a.object,value:s.a.string})),w=Object.assign({},h.b,{disabled:!1,hideSendButton:!1,showPhoneCallPanel:!1,onBlur:function(){function e(){}return e}(),onChange:function(){function e(){}return e}(),onFocus:function(){function e(){}return e}(),onHeightChange:function(){function e(){}return e}(),onKeyDown:function(){function e(){}return e}(),onPhoneCallIconPress:function(){function e(){}return e}(),onPictureIconPress:function(){function e(){}return e}(),onSend:function(){function e(){}return e}(),value:""});r.displayName="InputBar",r.propTypes=x,r.defaultProps=w,t.a=Object(p.f)(function(e){var t=e.color,n=e.font;return{inputContainer:{position:"relative",width:"100%",maxWidth:600,minHeight:24},textAreaContainer:{width:"100%",paddingRight:120,paddingLeft:0},textArea:Object.assign({},n.formInput,n.light,{backgroundColor:t.clear,width:"100%",outline:"none",border:"none",resize:"none",padding:12,minHeight:48}),iconGroups:{verticalAlign:"middle",position:"absolute",top:12,right:12},iconRow:{display:"table"},sendButton:Object.assign({},n.textRegular,{outline:"none",border:"none",margin:"auto",padding:0,verticalAlign:"middle",color:t.core.babu,background:"transparent",cursor:"pointer",opacity:1,transition:"opacity 100ms"}),hide:{opacity:0,transition:"opacity 100ms"},tablecell:{display:"table-cell"},buttonWrapper:{paddingLeft:0,paddingRight:0,margin:"auto",display:"table-cell",verticalAlign:"middle"}}})(r)},YrBH:function(e,t,n){"use strict";function r(e){var t=e.onBackPress,n=e.onAddParticipantPress,r=e.onArchivePress,a=e.onVisitHelpCenterPress,o=e.onReportPress,s=e.onDoNotDisturbChange,c=e.doNotDisturbChecked,u=e.participants,p=e.sidebar,k=e.showBackButton,S=e.styles;return i.a.createElement("div",Object(l.b)(S.container,p&&S.sidebar),i.a.createElement(f.a,{horizontal:3,vertical:3},k&&i.a.createElement("div",Object(l.b)(S.backRow),i.a.createElement(v.a,{before:i.a.createElement(b.a,{onPress:t,beforeIcon:i.a.createElement(y.a,{accessibilityLabel:d.a.t("shared.back")})},i.a.createElement(h.a,{k:"shared.back"}))})),i.a.createElement(f.a,{vertical:3},i.a.createElement(m.a,{level:2},i.a.createElement(h.a,{k:"luxury.conversation_with_beyond"}))),i.a.createElement(f.a,{top:3,bottom:2},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"luxury.chat_participants"}))),i.a.createElement(j.a,{participants:u}),i.a.createElement("button",babelHelpers.extends({onClick:n},Object(l.b)(S.rowButton)),i.a.createElement(E.a,{baseline:"full"},i.a.createElement(x.a,{before:i.a.createElement(f.a,{right:2},i.a.createElement(_.a,{size:48,accessibilityLabel:d.a.t("luxury.add_participant")}))},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"luxury.add_participant"}))))),i.a.createElement(f.a,{top:9,bottom:3},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"shared.settings"}))),i.a.createElement(w.a,{id:"doNotDisturb",name:"doNotDisturb",label:i.a.createElement(g.a,{small:!0},i.a.createElement(h.a,{k:"luxury.do_not_disturb"})),subtitle:i.a.createElement(g.a,{light:!0,small:!0},i.a.createElement(h.a,{k:"luxury.do_not_disturb_subtitle"})),onChange:s,checked:c,bottom:2}),i.a.createElement("button",babelHelpers.extends({onClick:r},Object(l.b)(S.rowButton)),i.a.createElement(E.a,{baseline:"full"},i.a.createElement(x.a,{after:i.a.createElement(f.a,{right:2},i.a.createElement(O.a,{size:24,accessibilityLabel:d.a.t("luxury.archive")}))},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"luxury.archive"}))))),i.a.createElement("button",babelHelpers.extends({onClick:a},Object(l.b)(S.rowButton)),i.a.createElement(E.a,{baseline:"full"},i.a.createElement(x.a,{after:i.a.createElement(f.a,{right:2},i.a.createElement(P.a,{size:24,accessibilityLabel:d.a.t("luxury.visit_help_center")}))},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"luxury.visit_help_center"}))))),i.a.createElement("button",babelHelpers.extends({onClick:o},Object(l.b)(S.rowButton)),i.a.createElement(E.a,null,i.a.createElement(x.a,{after:i.a.createElement(f.a,{right:2},i.a.createElement(C.a,{size:24,accessibilityLabel:d.a.t("luxury.report")}))},i.a.createElement(g.a,null,i.a.createElement(h.a,{k:"luxury.report"})))))))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("CJzf")),u=n("M/w6"),d=n.n(u),p=n("kUb7"),h=n.n(p),b=n("2oH2"),f=n("xs8B"),m=n("oFRz"),g=n("uUpu"),y=n("ZNLR"),v=n("DHhB"),E=n("NsNZ"),x=n("8J9N"),w=n("TQZj"),_=n("g6vu"),O=n("G1CF"),P=n("9/uS"),C=n("dPG/"),j=n("i9ve"),k=Object(c.forbidExtraProps)(Object.assign({},l.h,{showBackButton:s.a.bool,onBackPress:s.a.func.isRequired,onAddParticipantPress:s.a.func.isRequired,onArchivePress:s.a.func.isRequired,onVisitHelpCenterPress:s.a.func.isRequired,onReportPress:s.a.func.isRequired,onDoNotDisturbChange:s.a.func.isRequired,doNotDisturbChecked:s.a.bool,participants:s.a.array,sidebar:s.a.bool})),S={doNotDisturbChecked:!1,participants:[],sidebar:!1,showBackButton:!0};r.displayName="MessageThreadDetails",r.propTypes=k,r.defaultProps=S,t.a=Object(l.f)(function(e){var t=e.color;return{container:{width:"100%",height:"100%",overflowY:"auto","-webkit-overflow-scrolling":"touch"},rowButton:{padding:0,margin:0,border:"none",background:t.white,outline:"none",textAlign:"left"},sidebar:{boxShadow:"0 4px 9px 3px rgba(0, 0, 0, 0.09)",borderRight:"1px solid "+String(t.divider)}}})(r)},Yz7y:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.href,n=e.imageUrl,r=e.large,a=e.onPress,i=e.primarySubtitle,s=e.secondarySubtitle,c=e.styles,l=e.title;return o.a.createElement(h.a,{border:!0,clickable:!0,large:r,onPress:a,href:t},o.a.createElement("div",Object(u.b)(c.container,r&&c.container_large),o.a.createElement("div",Object(u.b)(c.imageContainer,r&&c.imageContainer_large),o.a.createElement("div",Object(u.b)(c.image),o.a.createElement(p.a,{height:"100%",src:n,alt:"",background:!0}))),o.a.createElement("div",Object(u.b)(c.body,r&&c.body_large),o.a.createElement("div",Object(u.b)(c.infoContainer),o.a.createElement("div",Object(u.b)(c.info),o.a.createElement("div",Object(u.b)(c.textTruncate),o.a.createElement(f.a,{small:!0,bold:!0,inline:!0},l)),i&&o.a.createElement("div",Object(u.b)(c.subtitleSpacing,c.textTruncate),o.a.createElement(f.a,{micro:!0,muted:!0,inline:!0},i)),s&&o.a.createElement("div",Object(u.b)(c.textTruncate),o.a.createElement(f.a,{micro:!0,muted:!0,inline:!0},s))))),o.a.createElement("div",Object(u.b)(c.nextArrow),r&&o.a.createElement(b.a,{breakpoint:"largeAndAbove"},o.a.createElement(m.a,{right:1},o.a.createElement(d.a,{decorative:!0,size:10}))))))}var i=n("Jmof"),o=n.n(i),s=n("yu5W"),c=n.n(s),l=n("rGv+"),u=(n.n(l),n("CJzf")),d=n("ovmV"),p=n("Ynx6"),h=n("lxHS"),b=n("/2kC"),f=n("uUpu"),m=n("xs8B"),g=Object(l.forbidExtraProps)(Object.assign({},u.h,{href:c.a.string,imageUrl:c.a.string.isRequired,large:c.a.bool,onPress:c.a.func,primarySubtitle:c.a.string,secondarySubtitle:c.a.string,title:c.a.string.isRequired})),y={href:null,large:!1,onPress:null,primarySubtitle:"",secondarySubtitle:""};a.displayName="MessageReferenceCard",a.propTypes=g,a.defaultProps=y,t.a=Object(u.f)(function(e){var t=e.color,n=e.unit,a=e.responsive;return{container:{display:"table",height:90},container_large:r({},a.mediumAndAbove,{height:98}),imageContainer:{display:"table-cell",padding:n,position:"relative",width:"40%",height:"100%"},imageContainer_large:r({},a.mediumAndAbove,{width:"33.33%"}),image:{borderRadius:2,overflow:"hidden",height:"100%",width:"100%"},body:{display:"table-cell",textAlign:"left",verticalAlign:"middle",padding:2*n+"px 0px "+2*n+"px "+String(n)+"px"},body_large:r({},a.mediumAndAbove,{padding:2.5*n+"px 0px "+2.5*n+"px "+String(n)+"px"}),infoContainer:{display:"table",width:"100%",tableLayout:"fixed"},info:{display:"table-cell"},nextArrow:{display:"table-cell",verticalAlign:"middle",width:2*n,color:t.core.foggy},subtitleSpacing:{margin:"2px 0px"},textTruncate:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}})(a)},b463:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={WIDTH:375,HEIGHT:600,BOTTOM_LG:16,RIGHT_LG:24}},"dPG/":function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m20.5 8.46.71-.71 1.07-1.07a2.5 2.5 0 0 0 -.01-3.53l-1.42-1.42a2.49 2.49 0 0 0 -3.52-.01l-1.42 1.42-.35.35-12.36 12.39a.49.49 0 0 0 -.11.19l-.01.01-2.05 6.25a.5.5 0 0 0 .63.63l6.29-2.01c.01 0 .01-.01.01-.01a.49.49 0 0 0 .19-.11zm-2.47-6.02a1.49 1.49 0 0 1 2.11.01l1.42 1.42c.59.59.59 1.53.01 2.12l-1.07 1.07-3.53-3.54zm-1.77 1.78 3.53 3.54-12.01 12.03-3.53-3.54zm-12.49 12.96 3.08 3.09-4.57 1.46z",fillRule:"evenodd"}))}return e}());o.displayName="EditSvg",o.defaultProps={viewBox:"0 0 24 24"};var s=Object(i.a)(o,"IconEdit");t.a=s},eLhK:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("dVnD"),s=n.n(o),c=n("Jmof"),l=n.n(c),u=n("yu5W"),d=n.n(u),p=n("ExyC"),h=n.n(p),b=n("M+pf"),f=function(e){function t(){var n,i,o;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=a(this,e.call.apply(e,[this].concat(c))),i.history=h()(i.props),o=n,a(i,o)}return i(t,e),t.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return l.a.createElement(b.a,{history:this.history,children:this.props.children})},t}(l.a.Component);f.propTypes={basename:d.a.string,getUserConfirmation:d.a.func,hashType:d.a.oneOf(["hashbang","noslash","slash"]),children:d.a.node}},eo2R:function(e,t,n){"use strict";function r(e){var t=e.imageUrl,n=e.large,r=e.title,a=e.formattedTimestamp,o=e.children,s=e.styles;return i.a.createElement("div",Object(l.b)(s.container,s.tableContainer),i.a.createElement("div",Object(l.b)(s.profilePhoto,n&&s.profilePhoto_large),i.a.createElement(u.b,{imageUrl:t,title:r,size:n?40:32})),i.a.createElement("div",Object(l.b)(s.messageBody),i.a.createElement(d.a,{left:n?2:1.5},i.a.createElement("div",Object(l.b)(s.messageTitle),i.a.createElement(d.a,{right:1,inline:!0},i.a.createElement(p.a,{small:!n},r)),i.a.createElement(p.a,{inline:!0,micro:!0,muted:!0},a)),o)))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("CJzf")),u=n("wfzY"),d=n("xs8B"),p=n("uUpu"),h=Object(c.forbidExtraProps)(Object.assign({},l.h,{children:s.a.node.isRequired,formattedTimestamp:s.a.string.isRequired,imageUrl:s.a.string.isRequired,large:s.a.bool,title:s.a.string.isRequired})),b={large:!1};r.displayName="MessageItem",r.propTypes=h,r.defaultProps=b,t.a=Object(l.f)(function(e){var t=e.unit;return{container:{width:"100%"},tableContainer:{display:"table",tableLayout:"fixed"},profilePhoto:{display:"table-cell",verticalAlign:"top",width:4*t},profilePhoto_large:{width:5*t},messageBody:{display:"table-cell"},messageTitle:{paddingBottom:2}}})(r)},f91D:function(e,t,n){"use strict";function r(e){var t=e.agents;return i.a.createElement("div",null,t.map(function(e,n){return i.a.createElement(l.a,{baseline:t.length-1===n?null:"full",key:e.id},i.a.createElement(d.a,{before:i.a.createElement(p.a,{right:2},i.a.createElement(h.b,{imageUrl:e.data.pictureUrl,title:e.data.firstName,size:52}))},i.a.createElement(u.a,null,e.data.firstName,i.a.createElement(u.a,{light:!0,small:!0},i.a.createElement(b.a,{href:"tel:14151234567"},"+1 (415) 123 4567")," ","·"," ",i.a.createElement(b.a,{href:"tel:14151234567"},i.a.createElement(m.a,{k:"luxury.request_a_call"}))))))}))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("NsNZ")),u=n("uUpu"),d=n("8J9N"),p=n("xs8B"),h=n("wfzY"),b=n("2oH2"),f=n("kUb7"),m=n.n(f),g=Object(c.forbidExtraProps)({agents:s.a.array}),y={agents:[]};r.displayName="AgentsList",r.propTypes=g,r.defaultProps=y,t.a=r},gmTn:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.isSendStatusFailed,r=e.retrySendItem,a=e.styles;return i.a.createElement("div",Object(d.b)(a.preWrap),t,n&&i.a.createElement(h.a,{vertical:1},i.a.createElement(p.a,{small:!0},i.a.createElement(u.a,{k:"shared.message_failed_to_send",default:"Message failed to send."})," ",i.a.createElement(b.a,{onPress:r},i.a.createElement(u.a,{k:"shared.Try again",default:"Try again"})))))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("kUb7")),u=n.n(l),d=n("CJzf"),p=n("uUpu"),h=n("xs8B"),b=n("2oH2"),f=Object(c.forbidExtraProps)(Object.assign({},d.h,{children:s.a.node.isRequired,isSendStatusFailed:s.a.bool,retrySendItem:s.a.func.isRequired})),m={isSendStatusFailed:!1};r.displayName="MessageStatus",r.propTypes=f,r.defaultProps=m,t.a=Object(d.f)(function(){return{preWrap:{whiteSpace:"pre-wrap"}}})(r)},i9ve:function(e,t,n){"use strict";function r(e){var t=e.participants;return i.a.createElement("div",null,t.map(function(e){var t=e.id,n=e.data;return t&&n&&n.pictureUrl&&n.firstName?i.a.createElement(l.a,{baseline:"full",key:t},i.a.createElement(d.a,{before:i.a.createElement(p.a,{right:2},i.a.createElement(h.b,{imageUrl:n.pictureUrl,title:n.firstName,size:52}))},i.a.createElement(u.a,null,n.firstName))):null}))}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("NsNZ")),u=n("uUpu"),d=n("8J9N"),p=n("xs8B"),h=n("wfzY"),b=Object(c.forbidExtraProps)({participants:s.a.array}),f={participants:[]};r.displayName="ParticipantsList",r.propTypes=b,r.defaultProps=f,t.a=r},imgV:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.href,n=e.imageUrl,r=e.large,a=e.title,i=e.primarySubtitle,s=e.secondarySubtitle,c=e.callToActionText,l=e.onPress,m=e.styles;return o.a.createElement(f.a,{border:!0,large:r},o.a.createElement(p.a,{horizontal:2,vertical:2},o.a.createElement("div",Object(u.b)(m.image,r&&m.image_large),o.a.createElement(d.a,{height:"100%",src:n,alt:"",background:!0}))),o.a.createElement(p.a,{horizontal:2,bottom:2},o.a.createElement(p.a,{bottom:2},o.a.createElement(h.a,{small:!0,bold:!0},a),o.a.createElement("div",Object(u.b)(m.subtitleSpacing),o.a.createElement(h.a,{micro:!0,muted:!0,inline:!0},i)),o.a.createElement(h.a,{
micro:!0,muted:!0,inline:!0},s)),o.a.createElement(b.a,{secondary:!0,block:!0,small:!0,href:t,onPress:l},c)))}var i=n("Jmof"),o=n.n(i),s=n("yu5W"),c=n.n(s),l=n("rGv+"),u=(n.n(l),n("CJzf")),d=n("Ynx6"),p=n("xs8B"),h=n("uUpu"),b=n("LEOb"),f=n("lxHS"),m=Object(l.forbidExtraProps)(Object.assign({},u.h,{callToActionText:c.a.string.isRequired,href:c.a.string,imageUrl:c.a.string.isRequired,large:c.a.bool,primarySubtitle:c.a.string.isRequired,secondarySubtitle:c.a.string.isRequired,title:c.a.string.isRequired,onPress:c.a.func})),g={href:null,large:!1,onPress:null};a.displayName="MessageActionCard",a.propTypes=m,a.defaultProps=g,t.a=Object(u.f)(function(e){return{image:{borderRadius:2,overflow:"hidden",height:188},image_large:r({height:216},e.responsive.small,{height:188}),subtitleSpacing:{margin:"2px 0px"}}})(a)},jVSj:function(e,t,n){"use strict";var r=n("JGj6");r.a},kLzm:function(e,t,n){"use strict";function r(e,t){return e&&t&&e.data.formattedDate!==t.data.formattedDate}function a(e,t){return e&&t&&e.senderID===t.senderID&&t.timestamp-e.timestamp<i.e}t.a=r,t.b=a;var i=n("SgVZ")},lDIC:function(e,t,n){"use strict";var r=n("vC4B");r.a},lxHS:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.border,n=e.children,r=e.large,a=e.onPress,i=e.href,s=e.styles;return a||i?o.a.createElement(d.b,p({},Object(u.b)(s.container,s.container_clickable,r&&s.container_large,t&&s.border),{href:i,onClick:a}),n):o.a.createElement("div",Object(u.b)(s.container,t&&s.border,r&&s.container_large),n)}var i=n("Jmof"),o=n.n(i),s=n("yu5W"),c=n.n(s),l=n("rGv+"),u=(n.n(l),n("CJzf")),d=n("85+4"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=Object(l.forbidExtraProps)(Object.assign({},u.h,{border:c.a.bool,children:c.a.node.isRequired,clickable:c.a.bool,large:c.a.bool,onPress:c.a.func,href:c.a.string})),b={border:!1,clickable:!1,large:!1,onPress:null,href:null};a.displayName="MessageRichObject",a.propTypes=h,a.defaultProps=b,t.a=Object(u.f)(function(e){var t=e.color,n=e.responsive;return{container:{background:t.white,display:"block",width:"100%",maxWidth:283},container_large:r({},n.mediumAndAbove,{maxWidth:375}),border:{border:"1px solid "+String(t.divider),borderRadius:4,boxShadow:"0 4px 4px 0 rgba(0,0,0,0.05)"},container_clickable:{padding:0,margin:0,textDecoration:"none",textAlign:"inherit",color:"inherit",font:"inherit",cursor:"pointer",":hover":{boxShadow:"0 5px 4px 0 rgba(0,0,0,0.08)",transform:"translateY(-1px)",textDecoration:"none"},":active":{boxShadow:"0 2px 2px 0 rgba(0,0,0,0.05)",transform:"translateY(0px)"}}}})(a)},mEK8:function(e,t,n){"use strict";function r(e){var t=e.accessibilityLabel,n=e.decorative,r=e.color,a=e.size,o=Object.assign({},t&&{accessibilityLabel:t},n&&{decorative:n});return i.a.createElement(l.a,p({},o,{fillOpacity:0,stroke:r,strokeWidth:3,size:a,rounded:!0}))}t.a=r;var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("79p/")),u=n("/9hQ"),d=n("d7EE"),p=(n("7dZ5"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=Object(c.forbidExtraProps)(Object.assign({},d.a,{color:s.a.string,size:u.a}));r.displayName="IconCheckmark",r.propTypes=h},odbS:function(e,t,n){"use strict";function r(e){var t=e.match(/\/luxury\/listing\/(\d+|\/)/),n=e.match(/\/experiences\/(\d+|\/)/);return t?[a.b.REFERENCE_CARD,{reference_type:a.g.LISTING,reference_id:t[1]}]:n?[a.b.REFERENCE_CARD,{reference_type:a.g.EXPERIENCE,reference_id:n[1]}]:[a.b.TEXT,{body:e}]}var a=n("SgVZ");t.a=r},sX3f:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("yu5W"),o=n.n(i),s=n("CJzf"),c=n("3opl"),l=n("YrBH"),u=n("DMPL"),d=n("z9sH"),p=Object.assign({},s.h,{participants:o.a.object,sendItem:o.a.func.isRequired,setIsTyping:o.a.func.isRequired,retrySendItem:o.a.func.isRequired,addParticipant:o.a.func.isRequired,fetchItems:o.a.func.isRequired,threadID:o.a.number.isRequired,onBackPress:o.a.func.isRequired,paginationRequest:o.a.object}),h={participants:{},thread:{},paginationRequest:{}},b=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSidebar:!1},n.onShowSidebarPress=n.onShowSidebarPress.bind(n),n.onMessageThreadDetailsBackPress=n.onMessageThreadDetailsBackPress.bind(n),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onShowSidebarPress",value:function(){function e(){this.setState({showSidebar:!0})}return e}()},{key:"onMessageThreadDetailsBackPress",value:function(){function e(){return this.state.showSidebar?this.setState({showSidebar:!1}):null}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.styles,n=e.threadID,r=e.thread,i=e.sendItem,o=e.setIsTyping,c=e.fetchItems,p=e.retrySendItem,h=e.participants,b=e.onBackPress,f=e.paginationRequest,m=this.state.showSidebar,g=Object.values(h),y=function(){function e(){}return e}();return a.a.createElement("div",Object(s.b)(t.container),a.a.createElement("div",Object(s.b)(t.mobileNav),a.a.createElement(d.a,{onCloseMessagePress:b,onMessageThreadDetailsBackPress:this.onMessageThreadDetailsBackPress,onShowSidebarPress:this.onShowSidebarPress,thread:r,participants:h,showSidebar:m,showCloseButton:!1})),a.a.createElement("div",Object(s.b)(t.sidebar,m&&t.showSidebar),a.a.createElement(l.a,{onBackPress:this.onMessageThreadDetailsBackPress,participants:g,onAddParticipantPress:y,onArchivePress:y,onVisitHelpCenterPress:y,onReportPress:y,onDoNotDisturbChange:y,showBackButton:!1})),a.a.createElement("div",Object(s.b)(t.thread),a.a.createElement(u.a,{retrySendItem:p,fetchItems:c,threadID:n,thread:r,sendItem:i,setIsTyping:o,participants:h,paginationRequest:f})))}return e}()}]),t}(a.a.Component);b.propTypes=p,b.defaultProps=h,t.a=Object(s.f)(function(e){var t,n,r=e.responsive,a=e.color;return{container:{height:"100vh",marginTop:-c.e,position:"relative"},thread:(t={position:"absolute",width:"100%",top:100,bottom:0,right:0},babelHelpers.defineProperty(t,r.mediumAndAbove,{top:120}),babelHelpers.defineProperty(t,r.largeAndAbove,{width:"70%",top:80}),t),sidebar:babelHelpers.defineProperty({display:"none",position:"absolute",top:64,bottom:74,left:0,width:"100%",overflow:"auto",backgroundColor:a.white,zIndex:1,paddingTop:64},r.largeAndAbove,{display:"block",width:"30%",paddingTop:16,bottom:0,borderRight:"1px solid "+String(a.divider),boxShadow:"1px 0px 20px 0 rgba(0, 0, 0, 0.2)"}),showSidebar:{display:"block"},mobileNav:(n={position:"absolute",top:88,left:0,display:"block",textAlign:"center",padding:16,backgroundColor:a.white,boxShadow:"0 1px 5px 0 "+String(a.divider),zIndex:2},babelHelpers.defineProperty(n,r.mediumAndAbove,{top:80}),babelHelpers.defineProperty(n,r.largeAndAbove,{display:"none"}),n)}})(b)},saT4:function(e,t,n){"use strict";var r=n("YGBb"),a=n("dv0A");t.a=Object(r.f)(a.a)},suWS:function(e,t,n){"use strict";var r=n("YGBb"),a=n("dv0A");t.a=Object(r.h)(a.a)},tzwi:function(e,t,n){"use strict";function r(e,t){return{participants:Object(b.h)(e,t),thread:Object(b.j)(e,t),threadID:Object(b.i)(e,t),paginationRequest:Object(b.g)(e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("6Put"),l=(n.n(c),n("oIG2")),u=n.n(l),d=n("f9gA"),p=n.n(d),h=n("YGBb"),b=n("1OJ4"),f=n("614h"),m=n("saT4"),g=n("sX3f"),y=n("JkDH"),v=n("ZFC4"),E={addParticipant:s.a.func.isRequired,chatDrawerOpen:s.a.bool,fetchItems:s.a.func.isRequired,fetchThread:s.a.func.isRequired,initialize:s.a.func.isRequired,addTypingParticipant:s.a.func.isRequired,isFloatingBox:s.a.bool,markThreadRead:s.a.func.isRequired,match:v.a,onBackPress:s.a.func,participants:s.a.object,paginationRequest:s.a.object,retrySendItem:s.a.func.isRequired,sendItem:s.a.func.isRequired,setIsTyping:s.a.func.isRequired,startPolling:s.a.func.isRequired,stopPolling:s.a.func.isRequired,thread:s.a.object,threadID:s.a.number.isRequired},x={participants:{},thread:{},onBackPress:null,isFloatingBox:!1,chatDrawerOpen:!1,paginationRequest:{}},w=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBackPress=n.onBackPress.bind(n),n.startTimer=n.startTimer.bind(n),n.addThread=n.addThread.bind(n),n.updateReadReceipt=n.updateReadReceipt.bind(n),n.removeThread=n.removeThread.bind(n),n.subscribe=n.subscribe.bind(n),n.unsubscribe=n.unsubscribe.bind(n),n.shouldUpdateReadReceipt=n.shouldUpdateReadReceipt.bind(n),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){function e(){var e=this.props,t=e.fetchItems,n=e.fetchThread,r=e.initialize,a=e.threadID,i=e.startPolling,o=e.stopPolling,s=e.addTypingParticipant;r({viewerID:u.a.current().id}),n(a,f.b);var c=window.location.host.includes("localhost")?"localhost.airbnb.com":"airbnb.com";this.realTimeHelper=new h.c({websocketURL:"wss://ws."+c+"/messaging/ws2",websocketTokensResource:new p.a("messaging_websocket_tokens",{host:"v2"}),threadID:a,startPolling:i,stopPolling:o,fetchItems:t,addTypingParticipant:s})}return e}()},{key:"componentWillReceiveProps",value:function(){function e(e){var t=this;e.threadID!==this.props.threadID?(this.props.threadID&&this.removeThread(this.props.threadID),e.threadID&&(this.addThread(e.threadID),this.props.fetchThread(e.threadID,f.b))):!this.props.thread.id&&e.thread.id&&this.startTimer(function(){return t.subscribe()}),this.shouldUpdateReadReceipt(this.props.thread,e.thread)&&this.updateReadReceipt(e.thread.id)}return e}()},{key:"componentWillUnmount",value:function(){function e(){this.unsubscribe()}return e}()},{key:"onBackPress",value:function(){function e(){var e=this.props.onBackPress;return e?e():null}return e}()},{key:"shouldUpdateReadReceipt",value:function(){function e(e,t){if(!t||!t.items||!t.items.length)return!1;if(!e||!e.items)return!0;if(e.id!==t.id)return!0;var n=e.items,r=t.items;return n.length===r.length&&n[n.length-1].sendStatus===h.d.SENDING&&r[r.length-1].sendStatus===h.d.NONE||n.length!==r.length&&r[r.length-1].sendStatus===h.d.NONE}return e}()},{key:"addThread",value:function(){function e(e){this.realTimeHelper&&this.realTimeHelper.addThread(e)}return e}()},{key:"removeThread",value:function(){function e(e){this.realTimeHelper&&this.realTimeHelper.removeThread(e)}return e}()},{key:"subscribe",value:function(){function e(){this.realTimeHelper&&this.realTimeHelper.subscribe()}return e}()},{key:"startTimer",value:function(){function e(e){setTimeout(e,2e3)}return e}()},{key:"updateReadReceipt",value:function(){function e(e){(0,this.props.markThreadRead)(e,f.c)}return e}()},{key:"unsubscribe",value:function(){function e(){this.realTimeHelper&&this.realTimeHelper.unsubscribe()}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.fetchItems,n=e.retrySendItem,r=e.threadID,a=e.thread,o=e.sendItem,s=e.setIsTyping,c=e.addParticipant,l=e.participants,u=e.isFloatingBox,d=e.chatDrawerOpen,p=e.paginationRequest;return u?i.a.createElement(y.a,{fetchItems:t,participants:l,retrySendItem:n,thread:a,threadID:r,sendItem:o,setIsTyping:s,addParticipant:c,onBackPress:this.onBackPress,chatDrawerOpen:d,paginationRequest:p}):i.a.createElement(g.a,{fetchItems:t,participants:l,retrySendItem:n,thread:a,threadID:r,sendItem:o,setIsTyping:s,addParticipant:c,onBackPress:this.onBackPress,paginationRequest:p})}return e}()}]),t}(i.a.Component);w.propTypes=E,w.defaultProps=x,t.default=Object(c.connect)(r,m.a)(w)},uT79:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("/psU"),o=(n("7dZ5"),function(){function e(e){return a.a.createElement("svg",e,a.a.createElement("path",{d:"m1.5 16.5a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0zm14.5 3.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7zm11 0a3.5 3.5 0 100-7 3.5 3.5 0 000 7z",fillRule:"evenodd"}))}return e}());o.displayName="MoreSvg",o.defaultProps={viewBox:"0 0 32 32"};var s=Object(i.a)(o,"IconMore");t.a=s},xIxZ:function(e,t,n){"use strict";function r(e){return 1===e.length?o.a.createElement(d.a,{k:"messaging.one_participant_typing",default:"%{participant} is typing...",participant:e[0]}):2===e.length?o.a.createElement(d.a,{k:"messaging.two_participants_typing",default:"%{participant1} and %{participant2} are typing...",participant1:e[0],participant2:e[1]}):o.a.createElement(d.a,{k:"messaging.several_participants_typing",default:"Several people are typing..."})}function a(e){var t=e.participantNames;return t.length<1?null:o.a.createElement(p.a,{small:!0,muted:!0},r(t))}var i=n("Jmof"),o=n.n(i),s=n("yu5W"),c=n.n(s),l=n("rGv+"),u=(n.n(l),n("kUb7")),d=n.n(u),p=n("uUpu"),h=Object(l.forbidExtraProps)({participantNames:c.a.arrayOf(c.a.string).isRequired});r.displayName="typingText",a.displayName="MessageTypingIndicator",a.propTypes=h,t.a=a},xsYX:function(e,t,n){"use strict";var r=n("Jmof"),a=n.n(r),i=n("yu5W"),o=n.n(i),s=n("rGv+"),c=(n.n(s),n("M/w6")),l=n.n(c),u=n("CJzf"),d=n("WGs/"),p=n("MGQ7"),h=n("odbS"),b=n("SgVZ"),f=n("614h"),m=Object(s.forbidExtraProps)(Object.assign({},u.h,{sendItem:o.a.func.isRequired,setIsTyping:o.a.func.isRequired,threadID:o.a.number.isRequired,onHeightChange:o.a.func.isRequired,onPhoneCallPanelToggle:o.a.func.isRequired,showPhoneCallPanel:o.a.bool.isRequired,agents:o.a.array,isFloatingBox:o.a.bool})),g={agents:[],isFloatingBox:!1},y=function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputText:""},n.onInputChange=n.onInputChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onSend=n.onSend.bind(n),n.isTyping=!1,n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onInputChange",value:function(){function e(e){var t=this,n=this.props,r=n.setIsTyping,a=n.threadID;this.setState({inputText:e.target.value}),this.isTyping||(r(a,f.e),this.isTyping=!0,setTimeout(function(){t.isTyping=!1},2e3))}return e}()},{key:"onKeyDown",value:function(){function e(e){var t=this.state.inputText;e.keyCode!==b.d||e.shiftKey||(e.preventDefault(),e.stopPropagation(),t&&this.onSend())}return e}()},{key:"onSend",value:function(){function e(){var e=this.props,t=e.sendItem,n=e.threadID;t.apply(void 0,[n].concat(babelHelpers.toConsumableArray(Object(h.a)(this.state.inputText)),[f.d])),this.setState({inputText:""})}return e}()},{key:"render",value:function(){function e(){var e=this.props,t=e.onHeightChange,n=e.agents,r=e.showPhoneCallPanel,i=e.onPhoneCallPanelToggle,o=e.isFloatingBox,s=e.styles;return a.a.createElement("div",null,o&&a.a.createElement("div",Object(u.b)(s.shortBorder)),a.a.createElement("div",Object(u.b)(s.container,!o&&s.border,!o&&s.container_nonfloating),a.a.createElement(p.a,{agents:n,onPanelHide:i,showPhoneCallPanel:r}),a.a.createElement(d.a,{cols:50,id:"message_input",label:l.a.t("luxury.type_a_message"),name:"message_input",placeholder:l.a.t("luxury.type_a_message"),showPhoneCallPanel:r,hideSendButton:!this.state.inputText,value:this.state.inputText,onChange:this.onInputChange,onHeightChange:t,onKeyDown:this.onKeyDown,onPhoneCallIconPress:i,onSend:this.onSend})))}return e}()}]),t}(a.a.Component);y.displayName="InputBarForm",y.propTypes=m,y.defaultProps=g,t.a=Object(u.f)(function(e){var t=e.color;return{container:{paddingTop:4,paddingBottom:4,paddingLeft:12,paddingRight:12,position:"relative",background:t.white},container_nonfloating:{padding:12},border:{borderTop:"1px solid "+String(t.divider)},shortBorder:{marginLeft:24,marginRight:24,height:1,borderTop:"1px solid #e8e8e8"}}})(y)},xxPn:function(e,t,n){"use strict";function r(e){var t=e.adults,n=e.children;return(t?parseInt(t,10):0)+(n?parseInt(n,10):0)}function a(e){var t=function(e){return e.luxury_pdp},n=function(){return Promise.reject()},r=T.a.stringify({luxury_pre_launch:k.a.get("luxury_pre_launch")?1:void 0,_format:"for_pdp_with_pricing"});return{type:R.h,promise:C.a.get("/v2/luxury_pdps/"+String(e)+"?"+String(r)).then(t,n),meta:{listingId:e}}}function i(e){var t=e.listingId,n=e.checkin,a=e.adults,i=e.children,o=function(e){return e.luxury_listing_quote},s=function(){return Promise.reject()},c=C.a.post("/v2/luxury_listing_quotes?_format=for_default_quote_for_pdp",{data:{should_persist:!1,reservation_details:{listing_id:t,number_of_guests:r({adults:a,children:i})||1,checkin_date:n,nights:1,guest_id:4843523,hosting_currency:"USD",price_items:[]}}}).then(o,s);return{type:R.i,promise:c,meta:{listingId:t}}}function o(e){var t=function(e){return e.luxury_pdp_home_tour},n=function(){return Promise.reject()},r=T.a.stringify({luxury_pre_launch:k.a.get("luxury_pre_launch")?1:void 0});return{type:R.g,promise:C.a.get("/v2/luxury_pdp_home_tours/"+String(e)+"?"+String(r)).then(t,n),meta:{listingId:e}}}function s(e){var t=function(e){return e.luxury_services},n=function(){return Promise.reject()};return{type:R.m,promise:C.a.get("/v2/luxury_services",{data:{listing_id:e,luxury_pre_launch:k.a.get("luxury_pre_launch")?1:void 0}}).then(t,n)}}function c(e){var t=function(e){return e.similar_listings},n=function(){return Promise.reject()};return{type:R.n,promise:C.a.get("/v2/similar_listings",{data:{listing_id:e,_format:"for_luxury_listing_card",luxury_pre_launch:k.a.get("luxury_pre_launch")?1:void 0}}).then(t,n),meta:{listingId:e}}}function l(e){var t=function(e){return e},n=function(){return Promise.reject()},r=new Date,a=T.a.stringify({luxury_pre_launch:1,month:r.getMonth()+1,year:r.getFullYear(),count:6,_format:"with_conditions",listing_id:e});return{type:R.e,promise:C.a.get("/v2/calendar_months?"+String(a)).then(t,n)}}function u(){return{type:R.o,promise:C.a.get("/v2/luxury_static_datas/1",{},{_format:"for_manage_your_space"})}}function d(e){return{type:R.l,promise:C.a.get("/v2/luxury_rooms?listing_id="+String(e)),meta:{listingId:e}}}function p(e){return{type:R.d,promise:C.a.get("/v2/luxury_amenities",{data:{listing_id:e,luxury_pre_launch:1,luxury_amenities_only:!0}})}}function h(e){return{type:R.k,promise:C.a.get("/v2/tiered_pricings",{data:{listing_id:e,luxury_pre_launch:1}})}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tripScheduleId,n=e.listingId,r={};return t&&(r.trip_schedule_id=t),n&&(r.luxury_listing_id=n),{type:R.j,promise:C.a.get("/v2/luxury_threads",{data:Object.assign({_format:"for_pdp"},r)})}}function f(e){return{type:R.p,promise:C.a.get("/v2/luxury_listing_titles/"+String(e))}}function m(e){var t=e.pricingTierId,n=e.values,r=n.numBedrooms,a=n.numGuests,i=n.description,o=n.percentOff;return{type:R.u,promise:C.a.put("/v2/tiered_pricings/"+String(t),{data:{rooms:r,sleeps:a,description:i,percent_off_micros:1e6*o}}),meta:{pricingTierId:t}}}function g(e,t,n){var r=n.amenities,a=n.beds,i=n.panoUUID,o=n.panoRotationX,s=n.panoRotationY,c=Object.entries(r).map(function(e){var t=babelHelpers.slicedToArray(e,2),n=t[0],r=t[1];return{type:n.toUpperCase(),quantity:r?1:0}}),l=Object.entries(a).map(function(e){var t=babelHelpers.slicedToArray(e,2);return{type:t[0],quantity:t[1]||0}}),u=null!==i&&null!==o&&null!==s?{uuid:i,pano_rotation:{x:o,y:s}}:null;return{type:R.v,promise:C.a.put("/v2/luxury_rooms/"+String(e)+"/"+String(t),{data:{amenities:c.concat(l),matterport_data:u}}),meta:{roomId:t}}}function y(e){var t=e.displayChatDrawer,n=e.listingId,a=e.checkin,i=e.checkout,o=e.adults,s=e.children;return{type:R.q,promise:C.a.post("/v2/luxury_inquiries",{data:{inquiry_subject_id:n,inquiry_subject_type:"luxury_listing",number_of_guests:r({adults:o,children:s}),start_date:a,end_date:i}}),meta:{listingId:n,displayChatDrawer:t}}}function v(){return{type:R.r}}function E(){return{type:R.c}}function x(e){return{type:R.s,payload:{pngTitleFile:e}}}function w(e){return{type:R.t,payload:{svgTitleFile:e}}}function _(e,t,n){var r=t.map(function(e){return e.service_id}),a=n.map(function(e){return e.service_id}),i=n.filter(function(e){return!r.includes(e.service_id)}),o=t.filter(function(e){return!a.includes(e.service_id)}),s=i.map(function(t){return{method:"POST",path:"/luxury_services",body:{is_included:!0,listing_id:e,mt_template_id:t.service_id}}}),c=o.map(function(e){return{method:"DELETE",path:"/luxury_services/"+String(e.id)}});return s.concat(c)}function O(e,t,n){var r=_(e,t,n);return{type:R.b,promise:C.a.post("/v2/batch",{data:{operations:r}})}}t.f=a,t.g=i,t.e=o,t.k=s,t.l=c,t.d=l,t.m=u,t.j=d,t.c=p,t.i=h,t.h=b,t.n=f,t.s=m,t.t=g,t.o=y,t.r=v,t.b=E,t.p=x,t.q=w,t.a=O;var P=n("lQnl"),C=n.n(P),j=n("iTjA"),k=n.n(j),S=n("ymdt"),T=n.n(S),R=n("dZ4a")},z9sH:function(e,t,n){"use strict";function r(e){var t=e.isFloatingBox,n=e.onCloseMessagePress,r=e.onMessageThreadDetailsBackPress,a=e.onShowSidebarPress,o=e.thread,s=e.participants,c=e.showSidebar,l=e.showCloseButton,d=e.styles,x=i.a.createElement(f.a,{before:i.a.createElement(g.a,{onPress:r,icon:i.a.createElement(m.a,{accessibilityLabel:u.a.t("luxury.return_to_message_thread")})}),after:i.a.createElement("div",null,l&&i.a.createElement(g.a,{onPress:n,icon:i.a.createElement(y.a,{accessibilityLabel:u.a.t("luxury.close_message_thread")})}))},i.a.createElement(b.a,null,i.a.createElement(p.a,{k:"shared.details"}))),w=o.participantIDs,_=u.a.t("luxury.chat_with_beyond");if(w){var O=w.reduce(function(e,t){return s[t]&&s[t].data&&s[t].data.firstName&&e.push(s[t].data.firstName),e},[]);O.length>1&&(_=O.join(", "))}var P=i.a.createElement(g.a,{onPress:function(){function e(){window.location.href="/inbox"}return e}(),icon:i.a.createElement(m.a,{accessibilityLabel:u.a.t("luxury.return_to_inbox")})});t&&(P=i.a.createElement("div",Object(h.b)(d.dot)));var C=i.a.createElement("div",null,l&&i.a.createElement("div",Object(h.b)(d.buttonGroup),i.a.createElement(E.a,{right:2,inline:!0},i.a.createElement(g.a,{inline:!0,onPress:a,icon:i.a.createElement(v.a,{accessibilityLabel:u.a.t("luxury.see_message_thread_details")})})),i.a.createElement(g.a,{inline:!0,onPress:n,icon:i.a.createElement(y.a,{accessibilityLabel:u.a.t("luxury.close_message_thread")})})),!l&&i.a.createElement(g.a,{inline:!0,onPress:a,icon:i.a.createElement(v.a,{accessibilityLabel:u.a.t("luxury.see_message_thread_details")})})),j=i.a.createElement(f.a,{before:P,after:C},i.a.createElement("div",Object(h.b)(t&&d.textAlignLeft),i.a.createElement("div",Object(h.b)(d.ellipsis,!t&&d.marginAuto),i.a.createElement(b.a,null,_))));return c?x:j}var a=n("Jmof"),i=n.n(a),o=n("yu5W"),s=n.n(o),c=n("rGv+"),l=(n.n(c),n("M/w6")),u=n.n(l),d=n("kUb7"),p=n.n(d),h=n("CJzf"),b=n("uUpu"),f=n("8J9N"),m=n("ZNLR"),g=n("gm2C"),y=n("fy6o"),v=n("uT79"),E=n("xs8B"),x=Object(c.forbidExtraProps)(Object.assign({},h.h,{isFloatingBox:s.a.bool,onCloseMessagePress:s.a.func,onMessageThreadDetailsBackPress:s.a.func.isRequired,onShowSidebarPress:s.a.func.isRequired,thread:s.a.object,participants:s.a.object,showSidebar:s.a.bool,showCloseButton:s.a.bool})),w={isFloatingBox:!1,thread:{},participants:{},showSidebar:!1,onCloseMessagePress:function(){function e(){}return e}(),showCloseButton:!1};r.propTypes=x,r.defaultProps=w,t.a=Object(h.f)(function(e){var t=e.color,n=e.unit;return{dot:{width:n,height:n,borderRadius:n/2,backgroundColor:t.core.babu,border:"1px solid "+String(t.core.babu),WebkitBackfaceVisibility:"hidden",marginRight:n},buttonGroup:{width:6*n,height:2*n},textAlignLeft:{textAlign:"left"},ellipsis:{overflow:"hidden",height:3*n,textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%",maxWidth:300,display:"block"},marginAuto:{margin:"auto"}}})(r)}});"object"==typeof module&&(module.exports=e.default||e)}();